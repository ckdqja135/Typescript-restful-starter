### 시작
P2P, Relay 서버 방식에 대해 설명했을 때 IPv4가 갯수가 한정적이기 떄문에 모든 컴퓨터에 고정IP를 둘 수 없어 맨 앞에 있는 컴퓨터만 Pubic IP만 가지고 있으면 <br />
얘 한테 오는 패킷을 분배를 할 수 있었다. 그래서 이 맨앞에 있는 컴퓨터 이하에 있는 컴퓨터들은 가짜IP를 가지고 있어도 통신을 할 수 있었고, 이를 통해 자원고갈 문제를 해결할 수 있었다. <br />

이 부분을 좀 더 자세히 보자 <br />
패킷이 안에서 바깥으로 나갈 때는 가능하지만 바깥에서 안으로 들어가는 것은 불가능하다. <br />

<p align = "center"> <img src = "https://user-images.githubusercontent.com/33046341/96403649-d7da0400-1213-11eb-9ef7-22b0a5906ed4.png" width = 70%> </img></p>

안에서 바깥으로 나갈 때를 자세히 살펴보자. 안에서 바깥으로 나갈 때의 목적지를 Naver라고 치자. <br />
Naver가 고정IP이기 때문에 Naver의 서브IP는 변하지 않는다. <br />
내 컴퓨터의 IP가 10.2.4.6이고 게이트웨이의 고정IP가 24.1.25.6라고 쳤을 때
내가 인터넷 브라우저에서 Naver.com을 켰을 때 패킷이 Naver IP로 나가게 되는데 이 패킷이 나갈 때 게이트웨이가 하는 일이 뭐냐면 <br />
나가는 패킷이 10.2.4.6의 특정 포트로 나갔을텐데 그 포트번호를 256이라고 가정해서 나가는 출발위치가 있고, Naver의 Public IP라는 목적위치가 있을 것이다. <br />
이 때 Naver의 Public IP는 31.4.22.4라고 가정해본다. 그러면 게이트웨이는 Private IP의 특정 포트에서 출발한 패킷이 Naver의 Public IP의 특정 포트에 나가는경우에 <br />
거기에 대한 Mapping Table을 하나 만들어준다. 출발지와 목적지를 적고, 그것을 몇번 포트에 바인딩 할 지 정해준다. <br />

이 부분이 중요해서 다시 한번 보자면 내 안쪽에 있는 패킷이 바깥쪽으로 나갈 때 Mapping하나 만드는데 이 때 나의 특정포트를 253번이라고 가정하고, 253번 포트에 출발지 목적지를 다음과 같이 적어준다. <br />
이 때 Mapping Table은 다음과 같다.

||출발지|목적지|
|------|---|---|
|357|10.2.4.6|31.4.22.4(Naver)|
